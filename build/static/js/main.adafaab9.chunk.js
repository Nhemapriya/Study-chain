(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{134:function(e,t,n){},139:function(e,t,n){},181:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},227:function(e,t){},229:function(e,t){},265:function(e,t,n){"use strict";n.r(t);var c,s=n(0),a=n(1),r=n.n(a),i=n(121),o=n.n(i),l=(n(134),n(2)),j=n(5),d=n(4),u=n(3),h=n.n(u),b=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)([]),o=Object(l.a)(i,2),u=o[0],b=o[1],p=Object(a.useContext)(Se),f=p.state,O=p.dispatch,x=Object(j.f)();Object(a.useEffect)((function(){h.a.Modal.init(e.current)}),[]);return Object(s.jsxs)("nav",{children:[Object(s.jsxs)("div",{className:"nav-wrapper #e3f2fd blue lighten-5",children:[Object(s.jsx)(d.b,{to:f?"/":"/signin",className:"brand-logo left",children:" StudyChain "}),Object(s.jsx)("ul",{id:"nav-mobile",className:"right",children:f?[Object(s.jsx)("li",{children:Object(s.jsx)(d.b,{to:"/tour",children:Object(s.jsx)("b",{children:" Know more"})})},"0"),Object(s.jsx)("li",{children:Object(s.jsx)("i",{"data-target":"modal1",className:"large material-icons modal-trigger",style:{color:"black"},children:"search"})},"1"),Object(s.jsx)("li",{children:Object(s.jsx)(d.b,{to:"/profile",children:"Profile"})},"2"),Object(s.jsx)("li",{children:Object(s.jsx)(d.b,{to:"/groupCreation",children:" Create Group "})},"3"),Object(s.jsx)("li",{children:Object(s.jsx)(d.b,{to:"/blockchain",children:" Rating "})},"4"),Object(s.jsxs)("li",{children:[" ",Object(s.jsx)(d.b,{to:"/joinchat",children:" Community "})," "]},"5"),Object(s.jsxs)("li",{children:[" ",Object(s.jsx)(d.b,{to:"/joinchat",children:" Analytics "})," "]},"6"),Object(s.jsxs)("li",{children:[" ",Object(s.jsx)(d.b,{to:"/payment",children:" Payment "})," "]},"7"),Object(s.jsx)("li",{children:Object(s.jsx)("button",{className:"btn #c62828 blue darken-1",onClick:function(){window.location.href="https://study-chain-vwe-meet.netlify.app/"},children:"WeMeet"})},"8"),Object(s.jsx)("li",{children:Object(s.jsx)("button",{className:"btn #c62828 blue darken-1",onClick:function(){localStorage.clear(),O({type:"CLEAR"}),x.push("/signin")},children:"Logout"})},"10")]:[Object(s.jsx)("li",{children:Object(s.jsx)(d.b,{to:"/signin",children:" Login "})},"6"),Object(s.jsx)("li",{children:Object(s.jsx)(d.b,{to:"/signup",children:"Signup"})},"7")]})]}),Object(s.jsxs)("div",{id:"modal1",class:"modal",ref:e,style:{color:"black"},children:[Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsx)("input",{type:"text",placeholder:"search for users",value:c,onChange:function(e){return t=e.target.value,r(t),void fetch("/searchUsers",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})}).then((function(e){return e.json()})).then((function(e){b(e.user)}));var t}}),Object(s.jsx)("ul",{className:"collection",children:u.map((function(t){return Object(s.jsx)(d.b,{to:t._id!==f._id?"/profile/"+t._id:"/profile",onClick:function(){h.a.Modal.getInstance(e.current).close(),r("")},children:Object(s.jsx)("li",{className:"collection-item",children:t.name})})}))})]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("button",{className:"modal-close waves-effect waves-green btn-flat",onClick:function(){return r("")},children:"close"})})]})]})},p=(n(139),function(){var e=Object(j.f)(),t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useContext)(Se),o=i.state;i.dispatch;Object(a.useEffect)((function(){fetch("/accredited",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e.groups),r(e.groups)}))}),[]);return Object(s.jsx)("div",{className:"home",children:c.map((function(t){return Object(s.jsxs)("div",{className:"card home-card",children:[Object(s.jsx)("h6",{style:{padding:"5px"},children:Object(s.jsxs)("center",{children:[" ",Object(s.jsx)("button",{class:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){return n=t._id,void e.push("groupProfile?id="+n);var n},children:"View about Group"})," "]})}),Object(s.jsx)("div",{className:"card-image",children:Object(s.jsx)("img",{src:t.photo})}),Object(s.jsxs)("div",{className:"card-content",children:[Object(s.jsx)("i",{className:"material-icons",style:{color:"red"},children:"favorite"}),t.members.includes(o._id)?Object(s.jsxs)(s.Fragment,{children:["Request to Leave",Object(s.jsx)("i",{className:"material-icons",onClick:function(){var e;e=t._id,fetch("/leave",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({groupId:e})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},children:"thumb_down"})]}):Object(s.jsx)("button",{class:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){var e;e=t._id,fetch("/join",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({groupId:e})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},children:"Request to Join"}),Object(s.jsxs)("h6",{children:[t.members.length," members"]}),Object(s.jsx)("hr",{}),Object(s.jsx)("h5",{children:Object(s.jsxs)("b",{children:[" ",t.name," "]})}),Object(s.jsx)("p",{children:t.description})]})]},t._id)}))})}),f=n.p+"static/media/bc.c54bd85a.mp4",O=n(123),x=n.p+"static/media/sample_audio.b6957823.mp3",m=function(){var e=Object(O.a)(x),t=(Object(l.a)(e,1)[0],Object(a.useContext)(Se)),n=(t.state,t.dispatch),c=Object(j.f)(),r=Object(a.useState)(""),i=Object(l.a)(r,2),o=i[0],u=i[1],b=Object(a.useState)(""),p=Object(l.a)(b,2),m=p[0],g=p[1];return Object(s.jsxs)("body",{class:"bg",children:[Object(s.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,style:{position:"absolute",width:"100%",left:"50%",height:"1100px",objectFit:"cover",transform:"translate(-50%, -50%)",zIndex:"-1"},children:Object(s.jsx)("source",{src:f,type:"video/mp4"})}),Object(s.jsx)("div",{className:"mycard",children:Object(s.jsxs)("div",{className:"card auth-card input-field",children:[Object(s.jsx)("h2",{children:" StudyChain "}),Object(s.jsx)("input",{type:"text",placeholder:"Email",value:m,onChange:function(e){return g(e.target.value)}}),Object(s.jsx)("input",{type:"password",placeholder:"Password",value:o,onChange:function(e){return u(e.target.value)}}),Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(m)?fetch("/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:o,email:m})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?h.a.toast({html:e.error,classes:"#82b1ff blue darken-1"}):(localStorage.setItem("jwt",e.token),localStorage.setItem("user",JSON.stringify(e.user)),n({type:"USER",payload:e.user}),h.a.toast({html:"SignIn successful",classes:"#00e676 green accent-3"}),c.push("/"))})).catch((function(e){console.log(e)})):h.a.toast({html:"Enter a valid email",classes:"#82b1ff blue darken-1"})},children:"Login"}),Object(s.jsx)("h5",{children:Object(s.jsx)(d.b,{to:"/signup",children:" Don't have an account ? "})}),Object(s.jsx)("h6",{children:Object(s.jsx)(d.b,{to:"/resetPassword",children:" Forgot password ? "})})]})})]})},g=n(29),v=n.n(g),y=(n(79),n(124)),w=n.n(y),S=function(){var e=Object(j.f)(),t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(""),o=Object(l.a)(i,2),u=o[0],b=o[1],p=Object(a.useState)(""),O=Object(l.a)(p,2),x=O[0],m=O[1],g=Object(a.useState)(""),y=Object(l.a)(g,2),S=y[0],N=y[1],C=Object(a.useState)(""),A=Object(l.a)(C,2),k=A[0],_=A[1],I=Object(a.useState)(""),E=Object(l.a)(I,2),B=E[0],T=E[1],z=Object(a.useState)(""),P=Object(l.a)(z,2),R=(P[0],P[1]),D=Object(a.useState)(void 0),J=Object(l.a)(D,2),U=J[0],L=J[1],F=["Learner","Curator","Admin"],G=F[0],M=["English","Hindi","Tamil"],V=M[0];Object(a.useEffect)((function(){U&&W()}),[U]);var W=function(){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(x)?fetch("/signup",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c,password:u,email:x,about:S,pic:U,role:B})}).then((function(e){return e.json()})).then((function(t){t.error?h.a.toast({html:t.error,classes:"#82b1ff blue darken-1"}):(h.a.toast({html:t.message,classes:"#00e676 green accent-3"}),e.push("/signin"))})).catch((function(e){console.log(e)})):h.a.toast({html:"Enter a valid email",classes:"#82b1ff blue darken-1"})},Q=function(){k?function(){var e=new FormData;e.append("file",k),e.append("upload_preset","chordsNstrings"),e.append("cloud_name","chordsnstrings"),fetch("https://api.cloudinary.com/v1_1/chordsnstrings/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){L(e.url)})).catch((function(e){console.log(e)}))}():W()};return Object(s.jsxs)("div",{className:"mycard",children:[Object(s.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,style:{position:"absolute",width:"100%",left:"50%",height:"1440px",objectFit:"cover",transform:"translate(-50%, -50%)",zIndex:"-1"},children:Object(s.jsx)("source",{src:f,type:"video/mp4"})}),Object(s.jsxs)("div",{className:"card auth-card input-field",children:[Object(s.jsx)("h2",{children:" StudyChain "}),Object(s.jsx)("input",{type:"text",placeholder:"Name",value:c,onChange:function(e){return r(e.target.value)}}),Object(s.jsx)("input",{type:"text",placeholder:"Email",value:x,onChange:function(e){return m(e.target.value)}}),Object(s.jsx)("input",{type:"password",placeholder:"Password",value:u,onChange:function(e){return b(e.target.value)}}),Object(s.jsx)("input",{type:"text",placeholder:"About you",value:S,onChange:function(e){return N(e.target.value)}}),Object(s.jsxs)("div",{className:"file-field input-field",children:[Object(s.jsxs)("div",{className:"btn #64b5f6 blue darken-1",children:[Object(s.jsx)("span",{children:" Profile Picture "}),Object(s.jsx)("input",{type:"file",onChange:function(e){return _(e.target.files[0])}})]}),Object(s.jsx)("div",{className:"file-path-wrapper",children:Object(s.jsx)("input",{className:"file-path validate",type:"text"})})]}),Object(s.jsx)(v.a,{options:F,onChange:function(e){return T(e.value)},value:G,placeholder:"Select Role"}),Object(s.jsx)("h6",{children:" Select Language "}),Object(s.jsx)(v.a,{options:M,onChange:function(e){return R(e.value)},value:V,placeholder:"Select Language"}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){return Q()},children:"Sign Up"}),Object(s.jsx)("h5",{children:Object(s.jsx)(d.b,{to:"/signin",children:" Have an account already ? "})}),Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 green darken-1",onClick:function(){w()({title:"Warning",subtitle:"This is a subtitle",message:"This is a very long message",theme:"darkblue",native:!0})},children:"\ud83e\udd20 Click me"})]})]})},N=n(6),C=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(l.a)(r,2),o=i[0],j=i[1],d=Object(a.useContext)(Se),u=d.state,h=d.dispatch;console.log(u),Object(a.useEffect)((function(){fetch("/mypost",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){c(e.mypost)}))}),[]),Object(a.useEffect)((function(){if(o){var e=new FormData;e.append("file",o),e.append("upload_preset","chordsNstrings"),e.append("cloud_name","chordsnstrings"),fetch("https://api.cloudinary.com/v1_1/chordsnstrings/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){fetch("/updatepic",{method:"put",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({pic:e.url})}).then((function(e){return e.json()})).then((function(t){console.log(t),localStorage.setItem("user",JSON.stringify(Object(N.a)(Object(N.a)({},u),{},{pic:e.pic}))),h({type:"PICUPDATE",payload:t.pic})}))})).catch((function(e){console.log(e)}))}}),[o]);return Object(s.jsxs)("div",{style:{maxWidth:"550px",margin:"0px auto"},children:[Object(s.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",margin:"18px 0px",borderBottom:"1px solid grey"},children:[Object(s.jsx)("div",{children:Object(s.jsx)("img",{style:{width:"160px",height:"160px",borderRadius:"80px"},src:u?u.pic:"Loading"})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h4",{children:u?u.name:"loading"}),Object(s.jsx)("h6",{children:u?u.email:"loading"}),Object(s.jsx)("h6",{children:u?u.about:"loading"}),Object(s.jsx)("hr",{}),Object(s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"108%"},children:[Object(s.jsxs)("h6",{children:[n.length," posts"]}),Object(s.jsxs)("h6",{children:[u?u.followers.length:"0"," followers"]}),Object(s.jsxs)("h6",{children:[u?u.following.length:"0"," following"]})]})]}),Object(s.jsx)("div",{className:"file-field input-field",children:Object(s.jsxs)("div",{className:"btn #64b5f6 blue darken-1",children:[Object(s.jsx)("span",{children:"Change DP"}),Object(s.jsx)("input",{type:"file",onChange:function(e){return t=e.target.files[0],void j(t);var t}})]})})]}),Object(s.jsx)("div",{className:"gallery",children:n.map((function(e){return Object(s.jsx)("img",{className:"item",src:e.photo,alt:e.title},e._id)}))})]})},A=n(26),k=n.n(A),_=function(){var e=Object(j.f)(),t=Object(j.g)(),n=k.a.parse(t.search).id,c=Object(a.useState)(""),r=Object(l.a)(c,2),i=r[0],o=r[1],d=Object(a.useState)(""),u=Object(l.a)(d,2),b=u[0],p=u[1],f=Object(a.useState)(""),O=Object(l.a)(f,2),x=O[0],m=O[1],g=Object(a.useState)(n),y=Object(l.a)(g,2),w=y[0],S=y[1],N=Object(a.useState)(""),C=Object(l.a)(N,2),A=C[0],_=C[1],I=Object(a.useState)(""),E=Object(l.a)(I,2),B=E[0],T=E[1];Object(a.useEffect)((function(){A&&fetch("/createpost",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({title:i,body:b,pic:A,groupId:w,option:B})}).then((function(e){return e.json()})).then((function(t){t.error?h.a.toast({html:t.error,classes:"#c62828 red darken-3"}):(h.a.toast({html:"Created post Successfully",classes:"#43a047 green darken-1"}),e.push("/"))})).catch((function(e){console.log(e)}))}),[A]);return Object(s.jsxs)("div",{className:"card input-field",style:{margin:"30px auto",maxWidth:"500px",padding:"20px",textAlign:"center"},children:[Object(s.jsx)("input",{type:"text",placeholder:"Title",value:i,onChange:function(e){return o(e.target.value)}}),Object(s.jsx)("input",{type:"text",placeholder:"Group ID",value:w,onChange:function(e){return S(e.target.value)}}),Object(s.jsx)("input",{type:"text",placeholder:"Body",value:b,onChange:function(e){return p(e.target.value)}}),Object(s.jsx)(v.a,{options:["Yes","No"],onChange:function(e){return T(e.value)},value:B,placeholder:"Pin this content ?"}),Object(s.jsxs)("div",{className:"file-field input-field",children:[Object(s.jsxs)("div",{className:"btn #64b5f6 blue darken-1",children:[Object(s.jsx)("span",{children:" Upload File"}),Object(s.jsx)("input",{type:"file",onChange:function(e){return m(e.target.files[0])}})]}),Object(s.jsx)("div",{className:"file-path-wrapper",children:Object(s.jsx)("input",{className:"file-path validate",type:"text"})})]}),Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){return function(){var e=new FormData;e.append("file",x),e.append("upload_preset","chordsNstrings"),e.append("cloud_name","chordsnstrings"),fetch("https://api.cloudinary.com/v1_1/chordsnstrings/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){_(e.url),console.log(e.url)})).catch((function(e){console.log(e)}))}()},children:"Submit post"})]})},I=n(55),E=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useContext)(Se),i=r.state,o=r.dispatch,d=Object(j.h)().userid,u=Object(a.useState)(!i||!i.following.includes(d)),h=Object(l.a)(u,2),b=h[0],p=h[1];console.log(d),Object(a.useEffect)((function(){fetch("/user/".concat(d),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){c(e)}))}),[]);return Object(s.jsx)(s.Fragment,{children:n?Object(s.jsxs)("div",{style:{maxWidth:"550px",margin:"0px auto"},children:[Object(s.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",margin:"18px 0px",borderBottom:"1px solid grey"},children:[Object(s.jsx)("div",{children:Object(s.jsx)("img",{style:{width:"160px",height:"160px",borderRadius:"80px"},src:n.user.pic})}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("h4",{children:[" ",n.user.name," "]}),Object(s.jsxs)("h6",{children:[" ",n.user.email," "]}),Object(s.jsxs)("h6",{children:[" ",n.user.about," "]}),Object(s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"110%"},children:[Object(s.jsxs)("h6",{children:[" ",n.posts.length," Posts "]}),Object(s.jsxs)("h6",{children:[" ",n.user.followers.length," Followers "]}),Object(s.jsxs)("h6",{children:[" ",n.user.following.length," Following "]}),Object(s.jsx)("br",{})]})]}),b?Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){return fetch("/follow",{method:"put",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify({followId:d})}).then((function(e){return e.json()})).then((function(e){o({type:"UPDATE",payload:{following:e.following,followers:e.followers}}),localStorage.setItem("user",JSON.stringify(e)),c((function(t){return Object(N.a)(Object(N.a)({},t),{},{user:Object(N.a)(Object(N.a)({},t.user),{},{followers:[].concat(Object(I.a)(t.user.followers),[e._id])})})}))})),void p(!1)},children:"Follow"}):Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){return fetch("/unfollow",{method:"put",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify({unfollowId:d})}).then((function(e){return e.json()})).then((function(e){o({type:"UPDATE",payload:{following:e.following,followers:e.followers}}),localStorage.setItem("user",JSON.stringify(e)),c((function(t){var n=t.user.followers.filter((function(t){return t!==e._id}));return Object(N.a)(Object(N.a)({},t),{},{user:Object(N.a)(Object(N.a)({},t.user),{},{followers:n})})}))})),void p(!0)},children:"Unfollow"})]}),Object(s.jsx)("div",{className:"gallery",children:n.posts.map((function(e){return Object(s.jsx)("img",{className:"item",src:e.photo,alt:e.title},e._id)}))})]}):Object(s.jsx)("h2",{children:" Loading "})})},B=function(){var e=Object(j.f)(),t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(s.jsx)("body",{class:"bg",children:Object(s.jsx)("div",{className:"mycard",children:Object(s.jsxs)("div",{className:"card auth-card input-field",children:[Object(s.jsx)("h2",{children:" Chords 'N' Strings "}),Object(s.jsx)("input",{type:"text",placeholder:"Email",value:c,onChange:function(e){return r(e.target.value)}}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(c)?fetch("/resetPassword",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c})}).then((function(e){return e.json()})).then((function(t){t.error?h.a.toast({html:t.error,classes:"#82b1ff blue darken-1"}):(h.a.toast({html:t.message,classes:"#00e676 green accent-3"}),e.push("/signin"))})).catch((function(e){console.log(e)})):h.a.toast({html:"Enter a valid email",classes:"#82b1ff blue darken-1"})},children:"Reset password"})]})})})},T=function(){var e=Object(j.f)(),t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(j.h)().token;console.log(i);return Object(s.jsx)("body",{class:"bg",children:Object(s.jsx)("div",{className:"mycard",children:Object(s.jsxs)("div",{className:"card auth-card input-field",children:[Object(s.jsx)("h2",{children:" Chords 'N' Strings "}),Object(s.jsx)("input",{type:"password",placeholder:"Enter new password",value:c,onChange:function(e){return r(e.target.value)}}),Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){fetch("/newPassword",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:c,token:i})}).then((function(e){return e.json()})).then((function(t){console.log(t),t.error?h.a.toast({html:t.error,classes:"#82b1ff blue darken-1"}):(h.a.toast({html:t.message,classes:"#00e676 green accent-3"}),e.push("/signin"))})).catch((function(e){console.log(e)}))},children:"Change password"})]})})})},z=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useContext)(Se),i=r.state;r.dispatch;Object(a.useEffect)((function(){fetch("/followedposts",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e),c(e.posts)}))}),[]);return Object(s.jsx)("div",{className:"home",children:n.map((function(e){return Object(s.jsxs)("div",{className:"card home-card",children:[Object(s.jsxs)("h5",{style:{padding:"5px"},children:[Object(s.jsx)(d.b,{to:e.postedBy._id!==i._id?"/profile/"+e.postedBy._id:"/profile",children:e.postedBy.name}),e.postedBy._id==i._id&&Object(s.jsx)("i",{className:"material-icons",style:{float:"right",color:"red"},onClick:function(){return t=e._id,void fetch("/deletepost/".concat(t),{method:"delete",headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=n.filter((function(t){return t._id!==e._id}));c(t)}));var t},children:"delete"})]}),Object(s.jsx)("div",{className:"card-image",children:Object(s.jsx)("img",{src:e.photo})}),Object(s.jsxs)("div",{className:"card-content",children:[Object(s.jsx)("i",{className:"material-icons",style:{color:"red"},children:"favorite"}),e.likes.includes(i._id)?Object(s.jsx)("i",{className:"material-icons",onClick:function(){var t;t=e._id,fetch("/unlike",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=n.map((function(t){return t._id==e._id?e:t}));c(t)})).catch((function(e){console.log(e)}))},children:"thumb_down"}):Object(s.jsx)("i",{className:"material-icons",onClick:function(){var t;t=e._id,fetch("/like",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=n.map((function(t){return t._id==e._id?e:t}));c(t)})).catch((function(e){console.log(e)}))},children:"thumb_up"}),Object(s.jsxs)("h6",{children:[e.likes.length," likes"]}),Object(s.jsx)("h6",{children:e.title}),Object(s.jsx)("p",{children:e.body}),e.comments.map((function(e){return Object(s.jsxs)("h6",{children:[Object(s.jsx)("span",{style:{fontWeight:"500"},children:e.postedBy.name})," ",e.text]},e._id)})),Object(s.jsx)("form",{onSubmit:function(t){var s,a;t.preventDefault(),s=t.target[0].value,a=e._id,fetch("/comment",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:a,text:s})}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=n.map((function(t){return t._id==e._id?e:t}));c(t)})).catch((function(e){console.log(e)}))},children:Object(s.jsx)("input",{type:"text",placeholder:"add a comment"})})]})]},e._id)}))})},P=n(52),R=n(53),D=n(56),J=n(54),U=n(23),L=(n(84),function(e){Object(D.a)(n,e);var t=Object(J.a)(n);function n(){return Object(P.a)(this,n),t.apply(this,arguments)}return Object(R.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h4",{children:Object(s.jsx)("center",{children:" Track the progress of the group "})}),Object(s.jsxs)(U.VerticalTimeline,{children:[Object(s.jsxs)(U.VerticalTimelineElement,{className:"vertical-timeline-element--work",contentStyle:{background:"#b2dfdb",color:"#000"},contentArrowStyle:{borderRight:"7px solid  rgb(33, 150, 243)"},date:"\u0bb5\u0bbf\u0bb1\u0bcd\u0baa\u0ba9\u0bc8\u0baf\u0bbe\u0bb3\u0bb0\u0bcd",iconStyle:{background:"#0288d1",color:"#fff"},children:[Object(s.jsx)("center",{children:Object(s.jsx)("h5",{className:"vertical-timeline-element-title",children:" Retailer "})}),Object(s.jsxs)("center",{children:[Object(s.jsx)("img",{src:"https://images.all-free-download.com/images/graphicthumb/crafts_store_logo_circle_and_ribbon_decoration_6826731.jpg",width:"200px",height:"150px"}),Object(s.jsxs)("h2",{children:["Owner: ",Object(s.jsx)("br",{}),"Product: ",Object(s.jsx)("br",{}),"Domain: ",Object(s.jsx)("br",{}),"Source Location ",Object(s.jsx)("br",{})]})]})]}),Object(s.jsxs)(U.VerticalTimelineElement,{className:"vertical-timeline-element--work",contentStyle:{background:"#b2dfdb",color:"#000"},contentArrowStyle:{borderRight:"7px solid  rgb(33, 150, 243)"},date:"\u0bb5\u0bb0\u0bcd\u0ba4\u0bcd\u0ba4\u0b95\u0bb0\u0bcd",iconStyle:{background:"#0288d1",color:"#fff"},children:[Object(s.jsx)("center",{children:Object(s.jsx)("h5",{className:"vertical-timeline-element-title",children:" Trader "})}),Object(s.jsxs)("center",{children:[Object(s.jsx)("img",{src:"https://www.tripsavvy.com/thmb/j6NVQt8Dz9nhrA9zfQCN9lMvbaQ=/960x640/filters:no_upscale():max_bytes(150000):strip_icc()/25498181_10156011317873979_3005717289735900312_n-5b5e8ad4c9e77c0050a46fb3.jpg",width:"200px",height:"150px",style:{borderRadius:"5px!important"}})," ",Object(s.jsx)("br",{}),Object(s.jsxs)("h2",{children:["Trader Name ",Object(s.jsx)("br",{}),"Id: ",Object(s.jsx)("br",{}),"Location: ",Object(s.jsx)("br",{})]})]})]}),Object(s.jsxs)(U.VerticalTimelineElement,{className:"vertical-timeline-element--work",contentStyle:{background:"#b2dfdb",color:"#000"},contentArrowStyle:{borderRight:"7px solid  rgb(33, 150, 243)"},date:"\u0b95\u0bc8\u0bb5\u0bbf\u0ba9\u0bc8\u0b9e\u0bb0\u0bcd",iconStyle:{background:"#0288d1",color:"#fff"},children:[Object(s.jsx)("center",{children:Object(s.jsx)("h5",{className:"vertical-timeline-element-title",children:" Producer (Cheif Artisan) "})}),Object(s.jsx)("center",{children:Object(s.jsx)("img",{src:"https://i.pinimg.com/originals/15/55/a6/1555a62dab01ceaa78cfd8ad861c11f9.jpg",width:"200px",height:"150px",style:{borderRadius:"5px!important"}})}),Object(s.jsx)("br",{}),Object(s.jsxs)("h2",{children:["Artisan name ",Object(s.jsx)("br",{}),"Location ",Object(s.jsx)("br",{}),"Certification ",Object(s.jsx)("br",{})]})]}),Object(s.jsx)(U.VerticalTimelineElement,{iconStyle:{background:"#0288d1",color:"#fff"}})]})]})}}]),n}(a.Component)),F=n(125),G=n.n(F),M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=",V=(n(181),function(e){var t=e.users;return Object(s.jsxs)("div",{className:"textContainer",children:[Object(s.jsx)("div",{}),t?Object(s.jsxs)("div",{children:[Object(s.jsx)("h4",{children:" Online :"}),Object(s.jsx)("div",{className:"activeContainer",children:Object(s.jsx)("h2",{children:t.map((function(e){var t=e.name;return Object(s.jsxs)("div",{className:"activeItem",children:[t,Object(s.jsx)("img",{alt:"Online Icon",src:M})]},t)}))})})]}):null]})}),W=n(126),Q=n.n(W),K=(n(202),n(75)),Y=n.n(K),Z=function(e){var t=e.message,n=t.text,c=t.user,a=!1,r=e.name.trim().toLowerCase();return c===r&&(a=!0),a?Object(s.jsxs)("div",{className:"messageContainer justifyEnd",children:[Object(s.jsx)("p",{className:"sentText pr-10",children:r}),Object(s.jsx)("div",{className:"messageBox backgroundBlue",children:Object(s.jsx)("p",{className:"messageText colorWhite",children:Y.a.emojify(n)})})]}):Object(s.jsxs)("div",{className:"messageContainer justifyStart",children:[Object(s.jsx)("div",{className:"messageBox backgroundLight",children:Object(s.jsx)("p",{className:"messageText colorDark",children:Y.a.emojify(n)})}),Object(s.jsx)("p",{className:"sentText pl-10 ",children:c})]})},q=(n(203),function(e){var t=e.messages,n=e.name;return Object(s.jsx)(Q.a,{className:"messages",children:t.map((function(e,t){return Object(s.jsx)("div",{children:Object(s.jsx)(Z,{message:e,name:n})},t)}))})}),X=(n(204),function(e){var t=e.room;return Object(s.jsxs)("div",{className:"infoBar",children:[Object(s.jsxs)("div",{className:"leftInnerContainer",children:[Object(s.jsx)("img",{className:"onlineIcon",src:M,alt:"online icon"}),Object(s.jsx)("h3",{children:t})]}),Object(s.jsx)("div",{className:"rightInnerContainer",children:Object(s.jsx)("a",{href:"/",children:Object(s.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=",alt:"close icon"})})})]})}),H=(n(205),function(e){var t=e.setMessage,n=e.sendMessage,c=e.message;return Object(s.jsxs)("form",{className:"form",children:[Object(s.jsx)("input",{className:"input",type:"text",placeholder:"Type a message...",value:c,onChange:function(e){var n=e.target.value;return t(n)},onKeyPress:function(e){return"Enter"===e.key?n(e):null}}),Object(s.jsx)("button",{className:"sendButton",onClick:function(e){return n(e)},children:"Send"})]})}),$=(n(206),function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),o=Object(l.a)(i,2),d=o[0],u=o[1],h=Object(a.useState)(""),b=Object(l.a)(h,2),p=b[0],f=b[1],O=Object(a.useState)(""),x=Object(l.a)(O,2),m=x[0],g=x[1],v=Object(a.useState)([]),y=Object(l.a)(v,2),w=y[0],S=y[1],N=Object(j.g)();console.log(N),Object(a.useEffect)((function(){var e=k.a.parse(N.search),t=e.name,n=e.community;c=G()("/"),console.log(t,n),u(n),r(t),c.emit("join",{name:t,room:n},(function(e){e&&alert(e)}))}),["/",N.search]),Object(a.useEffect)((function(){c.on("message",(function(e){S((function(t){return[].concat(Object(I.a)(t),[e])}))})),c.on("roomData",(function(e){var t=e.users;f(t)}))}),[]);return Object(s.jsxs)("div",{className:"outerContainer",children:[Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(X,{room:d}),Object(s.jsx)(q,{messages:w,name:n}),Object(s.jsx)(H,{message:m,setMessage:g,sendMessage:function(e){e.preventDefault(),m&&c.emit("sendMessage",m,(function(){return g("")}))}})]}),Object(s.jsx)(V,{users:p})]})}),ee=(n(207),function(){var e=Object(a.useContext)(Se),t=e.state,n=(e.dispatch,Object(j.f)(),Object(a.useState)("")),c=Object(l.a)(n,2),r=(c[0],c[1],Object(a.useState)("")),i=Object(l.a)(r,2),o=i[0],u=i[1];return Object(s.jsx)("div",{className:"joinOuterContainer",children:Object(s.jsxs)("div",{className:"joinInnerContainer",children:[Object(s.jsx)("h1",{className:"heading",children:"Join Community"}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{placeholder:"Community",className:"joinInput mt-20",type:"text",onChange:function(e){u(e.target.value)}})}),Object(s.jsx)(d.b,{onClick:function(e){return o?null:e.preventDefault},to:"/chat?name=".concat(t.name,"&community=").concat(o),children:Object(s.jsx)("button",{className:"button mt-20",type:"submit",children:"Enter"})})]})})}),te=n(127),ne=n.n(te),ce=n.p+"static/media/kraft.8ce45717.mp4",se=n.p+"static/media/GTLENG.8e083a2b.ogg",ae=n.p+"static/media/GTLTAM.45b52fcf.ogg",re=n.p+"static/media/GTLKAN.f621492d.ogg",ie=n.p+"static/media/GTLTEL.00f31135.ogg",oe=n.p+"static/media/GTLHIN.9e7a2a67.ogg",le=function(e){Object(D.a)(n,e);var t=Object(J.a)(n);function n(e){var c;return Object(P.a)(this,n),(c=t.call(this,e)).audios=e.list.map((function(e){return new Audio(e)})),c}return Object(R.a)(n,[{key:"getCurrentAudio",value:function(){return this.audios.find((function(e){return!1===e.paused}))}},{key:"toggle",value:function(e){var t=this.getCurrentAudio();t&&t!==e&&t.pause(),e.paused?e.play():e.pause()}},{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{children:Object(s.jsxs)("center",{children:[Object(s.jsx)(ne.a,{controls:!0,url:ce,onStart:function(){return console.log("started")}}),Object(s.jsx)("br",{}),Object(s.jsx)("h5",{children:" To know more ,choose your preferred language"}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",children:"English"}),"\xa0\xa0\xa0",Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",children:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd"}),"\xa0\xa0\xa0",Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",children:"\u0939\u093f\u0902\u0926\u0940"}),"\xa0\xa0\xa0",Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",children:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41"}),"\xa0\xa0\xa0",Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",children:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1"}),"\xa0\xa0\xa0",Object(s.jsx)("br",{}),this.audios.map((function(t,n){return Object(s.jsxs)("button",{onClick:function(){return e.toggle(t)},children:["PLAY ",n+1]})}))]})})}}]),n}(r.a.Component),je=function(){return Object(s.jsx)(le,{list:[se,ae,oe,ie,re]})},de=n(128),ue=function(){var e=Object(a.useContext)(Se),t=(e.state,e.dispatch,Object(j.f)()),n=Object(a.useState)(""),c=Object(l.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)(""),d=Object(l.a)(o,2),u=d[0],b=d[1],p=Object(a.useState)(""),f=Object(l.a)(p,2),O=f[0],x=f[1],m=Object(a.useState)(""),g=Object(l.a)(m,2),v=g[0],y=g[1],w=Object(a.useState)(""),S=Object(l.a)(w,2),N=S[0],C=S[1],A=Object(a.useState)(""),k=Object(l.a)(A,2),_=k[0],I=k[1],E=Object(a.useState)(""),B=Object(l.a)(E,2),T=B[0],z=B[1],P=Object(a.useState)(""),R=Object(l.a)(P,2),D=R[0],J=R[1],U=Object(a.useState)(""),L=Object(l.a)(U,2),F=L[0],G=L[1];Object(a.useEffect)((function(){F&&fetch("/creategroup",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({name:r,description:u,domain:O,motivation:v,reasoning:N,states:_,country:T,pic:F})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?h.a.toast({html:e.error,classes:"#c62828 red darken-3"}):(h.a.toast({html:"Request for Group Creation Successful",classes:"#43a047 green darken-1"}),t.push("/"))})).catch((function(e){console.log(e)}))}),[F]);var M=Object(de.a)({text:r||"0",options:{level:"M",margin:7,scale:1,width:200,color:{dark:"#010599FF",light:"#FFBF60FF"}}}),V=Object(l.a)(M,1)[0];return Object(s.jsxs)("div",{className:"mycard",children:[Object(s.jsxs)("div",{className:"card auth-card input-field  #e8eaf6 indigo lighten-5",children:[Object(s.jsx)("h4",{children:"Create Group"}),Object(s.jsx)("input",{type:"text",placeholder:"Group Name",value:r,onChange:function(e){return i(e.target.value)}}),Object(s.jsx)("input",{type:"text",placeholder:"Description",value:u,onChange:function(e){return b(e.target.value)}}),Object(s.jsx)("input",{type:"text",placeholder:"Domain",value:O,onChange:function(e){return x(e.target.value)}}),Object(s.jsx)("input",{type:"text",placeholder:"Motivation for Group Creation",value:v,onChange:function(e){return y(e.target.value)}}),Object(s.jsx)("input",{type:"text",placeholder:"Why the group should be accredited?",value:N,onChange:function(e){return C(e.target.value)}}),Object(s.jsx)("input",{type:"text",placeholder:"State",value:_,onChange:function(e){return I(e.target.value)}}),Object(s.jsx)("input",{type:"text",placeholder:"Country",value:T,onChange:function(e){return z(e.target.value)}}),Object(s.jsxs)("div",{className:"file-field input-field",children:[Object(s.jsxs)("div",{className:"btn #64b5f6 blue darken-1",children:[Object(s.jsx)("span",{children:" Upload Image"}),Object(s.jsx)("input",{type:"file",onChange:function(e){return J(e.target.files[0])}})]}),Object(s.jsx)("div",{className:"file-path-wrapper",children:Object(s.jsx)("input",{className:"file-path validate",type:"text"})})]}),Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){return function(){var e=new FormData;e.append("file",D),e.append("upload_preset","chordsNstrings"),e.append("cloud_name","chordsnstrings"),fetch("https://api.cloudinary.com/v1_1/chordsnstrings/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){G(e.url),console.log(e.url)})).catch((function(e){console.log(e)}))}()},children:"Create"})]}),Object(s.jsxs)("div",{className:"card auth-card input-field #e8eaf6 indigo lighten-5",children:[r,Object(s.jsx)("br",{}),Object(s.jsx)("canvas",{ref:V})]})]})},he=function(e,t){return"USER"===t.type?t.payload:"CLEAR"===t.type?null:"UPDATE"===t.type?Object(N.a)(Object(N.a)({},e),{},{followers:t.payload.followers,following:t.payload.following}):"PICUPDATE"===t.type?Object(N.a)(Object(N.a)({},e),{},{pic:t.payload}):e},be=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(l.a)(r,2),o=i[0],u=i[1],h=Object(a.useContext)(Se),b=h.state,p=h.dispatch,f=Object(j.g)(),O=Object(j.f)(),x=Object(a.useState)([]),m=Object(l.a)(x,2),g=m[0],v=m[1];Object(a.useEffect)((function(){var e=k.a.parse(f.search).id;console.log(e),fetch("/groupByPost?id="+e,{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e),v(e.posts)}))}),[]);Object(a.useEffect)((function(){var e=k.a.parse(f.search).id;console.log(e),fetch("/group?id="+e,{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e.group[0]),c(e.group[0])}))}),[]),Object(a.useEffect)((function(){if(o){var e=new FormData;e.append("file",o),e.append("upload_preset","chordsNstrings"),e.append("cloud_name","chordsnstrings"),fetch("https://api.cloudinary.com/v1_1/chordsnstrings/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){fetch("/updatepic",{method:"put",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({pic:e.url})}).then((function(e){return e.json()})).then((function(t){console.log(t),localStorage.setItem("user",JSON.stringify(Object(N.a)(Object(N.a)({},b),{},{pic:e.pic}))),p({type:"PICUPDATE",payload:t.pic})}))})).catch((function(e){console.log(e)}))}}),[o]);var y=function(e){u(e)};return Object(s.jsxs)("div",{style:{maxWidth:"550px",margin:"0px auto"},children:[Object(s.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",margin:"18px 0px",borderBottom:"1px solid grey"},children:[Object(s.jsx)("div",{children:Object(s.jsx)("img",{style:{width:"160px",height:"160px",borderRadius:"80px"},src:n?n.photo:"Loading"})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h4",{children:n?n.name:"loading"}),Object(s.jsxs)("h6",{children:[Object(s.jsx)("b",{children:"Domain : "}),n?n.domain:"loading"]}),Object(s.jsxs)("h6",{children:[Object(s.jsx)("b",{children:"Description : "}),n?n.description:"loading"]}),Object(s.jsx)("hr",{}),Object(s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"108%"},children:[Object(s.jsxs)("h6",{children:[n.name," posts"]}),Object(s.jsxs)("h6",{children:[n.members?n.members.length:"0"," members"]}),Object(s.jsxs)("h6",{children:[n.pending?n.pending.length:"0"," following"]})]})]}),Object(s.jsx)("div",{className:"file-field input-field",children:Object(s.jsxs)("div",{className:"btn #64b5f6 blue darken-1",children:[Object(s.jsx)("span",{children:"Change Image"}),Object(s.jsx)("input",{type:"file",onChange:function(e){return y(e.target.files[0])}})]})})]}),Object(s.jsxs)("div",{class:"row",children:[Object(s.jsx)("div",{class:"column",children:Object(s.jsx)("br",{})}),Object(s.jsxs)("div",{class:"column",children:[Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){return y()},children:"Pending Requests"}),"\xa0 \xa0 \xa0  \xa0",Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){return function(){var e=k.a.parse(f.search).id;O.push("/create?id="+e)}()},children:"Create Post"}),"\xa0 \xa0 \xa0  \xa0",Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){return e=n._id,void fetch("/join",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({groupId:e})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));var e},children:"Join Group"})]})]}),Object(s.jsx)("div",{className:"home",children:g.map((function(e){return Object(s.jsxs)("div",{className:"card home-card",children:[Object(s.jsxs)("h5",{style:{padding:"5px"},children:[Object(s.jsx)(d.b,{to:e.postedBy._id!==b._id?"/profile/"+e.postedBy._id:"/profile",children:e.postedBy.name}),e.postedBy._id==b._id&&Object(s.jsx)("i",{className:"material-icons",style:{float:"right",color:"red"},onClick:function(){return t=e._id,void fetch("/deletepost/".concat(t),{method:"delete",headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=g.filter((function(t){return t._id!==e._id}));v(t)}));var t},children:"select"})]}),Object(s.jsx)("div",{className:"card-image",children:Object(s.jsx)("img",{src:e.photo})}),Object(s.jsxs)("div",{className:"card-content",children:[Object(s.jsx)("i",{className:"material-icons",style:{color:"red"},children:"favorite"}),e.likes.includes(b._id)?Object(s.jsx)("i",{className:"material-icons",onClick:function(){var t;t=e._id,fetch("/dislike",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=g.map((function(t){return t._id==e._id?e:t}));v(t)})).catch((function(e){console.log(e)}))},children:"thumb_down"}):Object(s.jsx)("i",{className:"material-icons",onClick:function(){var t;t=e._id,fetch("/like",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=g.map((function(t){return t._id==e._id?e:t}));v(t)})).catch((function(e){console.log(e)}))},children:"thumb_up"}),Object(s.jsxs)("h6",{children:[e.likes.length," likes"]}),Object(s.jsx)("hr",{}),Object(s.jsx)("h5",{children:Object(s.jsxs)("b",{children:[" ",e.title," "]})}),Object(s.jsx)("p",{children:e.body}),Object(s.jsx)("hr",{}),e.comments.map((function(e){return Object(s.jsxs)("h6",{children:[Object(s.jsxs)("span",{style:{fontWeight:"500"},children:[e.postedBy.name," :"]}),e.text," "]},e._id)})),Object(s.jsx)("form",{onSubmit:function(t){var n,c;t.preventDefault(),n=t.target[0].value,c=e._id,fetch("/comment",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:c,text:n})}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=g.map((function(t){return t._id==e._id?e:t}));v(t)})).catch((function(e){console.log(e)}))},children:Object(s.jsx)("input",{type:"text",placeholder:"Add a comment"})})]})]},e._id)}))})]})},pe=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useContext)(Se),i=r.state;r.dispatch;return console.log(i),Object(a.useEffect)((function(){fetch("/groupByOption",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){c(e.posts)}))}),[]),Object(s.jsxs)("div",{children:[Object(s.jsx)("h4",{children:Object(s.jsx)("center",{children:" Track the progress of the group "})}),Object(s.jsxs)(U.VerticalTimeline,{children:[Object(s.jsx)("div",{children:n.map((function(e){return Object(s.jsxs)(U.VerticalTimelineElement,{className:"vertical-timeline-element--work",contentStyle:{background:"#b2dfdb",color:"#000"},contentArrowStyle:{borderRight:"7px solid  rgb(33, 150, 243)"},date:"Milestone",iconStyle:{background:"#0288d1",color:"#fff"},children:[Object(s.jsx)("center",{children:Object(s.jsxs)("h5",{className:"vertical-timeline-element-title",children:[" ",e.title," "]})}),Object(s.jsxs)("center",{children:[Object(s.jsx)("img",{src:e.photo,width:"200px",height:"150px",style:{borderRadius:"5px!important"}})," ",Object(s.jsx)("br",{}),Object(s.jsxs)("h2",{children:[Object(s.jsx)("b",{children:" Description of the post "}),Object(s.jsx)("h2",{children:e.body})]})]})]})}))}),Object(s.jsx)(U.VerticalTimelineElement,{iconStyle:{background:"#0288d1",color:"#fff"}})]})]})},fe=function(){Object(j.f)();var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(l.a)(r,2),o=i[0],d=i[1],u=Object(a.useState)("unaccredited"),h=Object(l.a)(u,2),b=h[0],p=h[1],f=Object(a.useContext)(Se);f.state,f.dispatch;Object(a.useEffect)((function(){fetch("/unaccredited",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e.groups),e&&c(e.groups)})),fetch("/accredited",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e.groups),e&&d(e.groups)}))}),[b]);return Object(s.jsxs)("div",{className:"home",children:[Object(s.jsx)("center",{children:Object(s.jsx)("h3",{children:Object(s.jsx)("p",{children:"Admin Log"})})}),Object(s.jsx)("center",{children:Object(s.jsx)("h4",{children:Object(s.jsx)("p",{children:"Accreditation Requests"})})}),Object(s.jsxs)("table",{class:"striped",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Group ID"}),Object(s.jsx)("th",{children:"Group Name"}),Object(s.jsx)("th",{children:"Domain"}),Object(s.jsx)("th",{children:"Description"}),Object(s.jsx)("th",{children:"Status"}),Object(s.jsx)("th",{children:"Action"})]})}),Object(s.jsx)("tbody",{children:n.map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e._id}),Object(s.jsx)("td",{children:e.name}),Object(s.jsx)("td",{children:e.domain}),Object(s.jsx)("td",{children:e.description}),Object(s.jsx)("td",{children:e.status}),Object(s.jsx)("td",{children:Object(s.jsx)("button",{onClick:function(){var t;t=e._id,fetch("/accredit?id="+t,{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e),p("accredited")}))},children:"Accredit"})})]})}))})]}),Object(s.jsx)("center",{children:Object(s.jsx)("h4",{children:Object(s.jsx)("p",{children:"Accredited Study Groups"})})}),Object(s.jsxs)("table",{class:"striped",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Group ID"}),Object(s.jsx)("th",{children:"Group Name"}),Object(s.jsx)("th",{children:"Domain"}),Object(s.jsx)("th",{children:"Description"}),Object(s.jsx)("th",{children:"Status"}),Object(s.jsx)("th",{children:"Action"})]})}),Object(s.jsx)("tbody",{children:o.map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e._id}),Object(s.jsx)("td",{children:e.name}),Object(s.jsx)("td",{children:e.domain}),Object(s.jsx)("td",{children:e.description}),Object(s.jsx)("td",{children:e.status}),Object(s.jsx)("td",{children:Object(s.jsx)("button",{onClick:function(){var t;t=e._id,fetch("/unaccredit?id="+t,{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e.group),p("unaccredited")}))},children:"Unaccredit"})})]})}))})]})]})},Oe=n(35),xe=n.n(Oe),me=n(76),ge=n(77),ve=n.n(ge);var ye=function(){function e(e){return new Promise((function(t){var n=document.createElement("script");n.src=e,n.onload=function(){t(!0)},n.onerror=function(){t(!1)},document.body.appendChild(n)}))}function t(){return(t=Object(me.a)(xe.a.mark((function t(){var n,c,s,a,r,i;return xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e("https://checkout.razorpay.com/v1/checkout.js");case 2:if(t.sent){t.next=6;break}return alert("Razorpay SDK failed to load. Are you online?"),t.abrupt("return");case 6:return t.next=8,ve.a.post("http://localhost:5000/payment/orders");case 8:if(n=t.sent){t.next=12;break}return alert("Server error. Are you online?"),t.abrupt("return");case 12:c=n.data,s=c.amount,a=c.id,r=c.currency,i={key:"rzp_test_KNoCu64wQKXO55",amount:s.toString(),currency:r,name:"Study Chain.",description:"Test Transaction",order_id:a,handler:function(){var e=Object(me.a)(xe.a.mark((function e(t){var n,c;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={orderCreationId:a,razorpayPaymentId:t.razorpay_payment_id,razorpayOrderId:t.razorpay_order_id,razorpaySignature:t.razorpay_signature},e.next=3,ve.a.post("http://localhost:5000/payment/success",n);case 3:c=e.sent,alert(c.data.msg);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),prefill:{name:"<YOUR NAME>",email:"example@example.com",contact:"9999999999"},notes:{address:"Example Corporate Office"},theme:{color:"#61dafb"}},new window.Razorpay(i).open();case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(s.jsx)("div",{className:"mycard",children:Object(s.jsxs)("div",{className:"card auth-card input-field",children:[Object(s.jsx)("h2",{children:" StudyChain "}),Object(s.jsx)("h6",{children:"Become a Premium Study Chain member now!"}),Object(s.jsx)("h6",{children:" Get exclusive access to our paid services"}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){return t.apply(this,arguments)},children:"Pay \u20b9500"})]})})},we=function(){Object(j.f)();var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(l.a)(r,2),o=(i[0],i[1]),d=Object(a.useState)("0"),u=Object(l.a)(d,2),b=u[0],p=u[1],f=Object(a.useState)(""),O=Object(l.a)(f,2),x=O[0],m=O[1],g=Object(a.useState)(""),y=Object(l.a)(g,2),w=y[0],S=y[1],N=Object(a.useState)(""),C=Object(l.a)(N,2),A=C[0],k=C[1],_=Object(a.useState)(0),I=Object(l.a)(_,2),E=I[0],B=I[1],T=Object(a.useState)(""),z=Object(l.a)(T,2),P=z[0],R=z[1],D=["Learner","Curator","Admin"],J=D[0],U=Object(a.useState)(""),L=Object(l.a)(U,2),F=L[0],G=L[1],M=Object(a.useState)(""),V=Object(l.a)(M,2),W=V[0],Q=V[1];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"mycard",children:[Object(s.jsxs)("center",{children:[Object(s.jsx)("h4",{children:" Ethereum Blockchain based Learner Rating system "})," "]}),Object(s.jsxs)("div",{className:"card auth-card input-field #e8eaf6 indigo lighten-5",children:[Object(s.jsx)("h4",{children:"Please Fill User Details"}),Object(s.jsx)("input",{type:"text",placeholder:"Name",value:n,onChange:function(e){return c(e.target.value)}}),Object(s.jsx)("input",{type:"text",placeholder:"User ID",value:b,onChange:function(e){return p(e.target.value)}}),Object(s.jsx)("input",{type:"text",placeholder:"location",value:x,onChange:function(e){return m(e.target.value)}}),Object(s.jsx)(v.a,{options:D,onChange:function(e){return S(e.value)},value:J,placeholder:"Select Status"}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){n?(o("Processing"),fetch("/adduser",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({id:b,name:n,location:x,status:w})}).then((function(e){return e.json()})).then((function(e){e.error?(h.a.toast({html:e.error,classes:"#82b1ff blue darken-1"}),o("Error in process")):(h.a.toast({html:"Added Successfully !",classes:"#00e676 green accent-3"}),o(e.message),console.log(e),p(e.id.toString()),c(""))})).catch((function(e){console.log(e)}))):h.a.toast({html:"Enter a valid name",classes:"#82b1ff blue darken-1"})},children:"Register User"})]})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"mycard",children:[Object(s.jsxs)("div",{className:"card auth-card input-field  #e8eaf6 indigo lighten-5",children:[Object(s.jsx)("h4",{children:"Check User Rating"}),Object(s.jsx)("input",{type:"text",placeholder:"Enter User ID",value:F,onChange:function(e){return G(e.target.value)}}),Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){F?(Q("Processing"),fetch("/checkrating",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({id:F})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?(h.a.toast({html:e.error,classes:"#82b1ff blue darken-1"}),Q("Error in Query")):(h.a.toast({html:"Query Successful !",classes:"#00e676 green accent-3"}),Q(e.message+"Token Rating"))})).catch((function(e){console.log(e)}))):h.a.toast({html:"Enter a valid user ID",classes:"#82b1ff blue darken-1"})},children:"Check"}),"\xa0"]}),Object(s.jsx)("div",{className:"card auth-card input-field  #e8eaf6 indigo lighten-5",children:W})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"mycard",children:[Object(s.jsxs)("div",{className:"card auth-card input-field #e8eaf6 indigo lighten-5",children:[Object(s.jsx)("h4",{children:"Update User Rating"}),Object(s.jsx)("input",{type:"text",placeholder:"Enter User ID",value:A,onChange:function(e){return k(e.target.value)}}),Object(s.jsx)("input",{type:"number",placeholder:"Enter new rating",value:E,onChange:function(e){return B(e.target.value)}}),Object(s.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){A?(R("Processing"),fetch("/updaterating",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({id:A,rating:E})}).then((function(e){return e.json()})).then((function(e){e.error?(h.a.toast({html:e.error,classes:"#82b1ff blue darken-1"}),R("Error in process")):(h.a.toast({html:"Rating updated Successful !",classes:"#00e676 green accent-3"}),R(e.message),k(""))})).catch((function(e){console.log(e)}))):h.a.toast({html:"Enter a valid user ID",classes:"#82b1ff blue darken-1"})},children:"Update Rating"})]}),Object(s.jsx)("div",{className:"card auth-card input-field #e8eaf6 indigo lighten-5",children:P})]})]})},Se=Object(a.createContext)(),Ne=function(){var e=Object(j.f)(),t=Object(a.useContext)(Se),n=(t.state,t.dispatch);return Object(a.useEffect)((function(){var t=JSON.parse(localStorage.getItem("user"));t?n({type:"USER",payload:t}):e.location.pathname.startsWith("/resetPassword")||e.push("/signin")}),[]),Object(s.jsxs)(j.c,{children:[Object(s.jsx)(j.a,{exact:!0,path:"/",children:Object(s.jsx)(p,{})}),Object(s.jsxs)(j.a,{path:"/signin",children:[" ",Object(s.jsx)(m,{})," "]}),Object(s.jsx)(j.a,{path:"/signup",children:Object(s.jsx)(S,{})}),Object(s.jsxs)(j.a,{exact:!0,path:"/profile",children:[" ",Object(s.jsx)(C,{})," "]}),Object(s.jsx)(j.a,{path:"/create",children:Object(s.jsx)(_,{})}),Object(s.jsxs)(j.a,{path:"/followersposts",children:[" ",Object(s.jsx)(z,{})," "]}),Object(s.jsx)(j.a,{path:"/profile/:userid",children:Object(s.jsx)(E,{})}),Object(s.jsxs)(j.a,{exact:!0,path:"/resetPassword",children:[" ",Object(s.jsx)(B,{})," "]}),Object(s.jsxs)(j.a,{path:"/resetPassword/:token",children:[" ",Object(s.jsx)(T,{})," "]}),Object(s.jsx)(j.a,{path:"/timeline",children:Object(s.jsx)(L,{})}),Object(s.jsx)(j.a,{path:"/tour",children:Object(s.jsx)(je,{})}),Object(s.jsx)(j.a,{path:"/chat",children:Object(s.jsx)($,{})}),Object(s.jsx)(j.a,{path:"/joinchat",children:Object(s.jsx)(ee,{})}),Object(s.jsx)(j.a,{path:"/groupCreation",children:Object(s.jsx)(ue,{})}),Object(s.jsx)(j.a,{path:"/groupDash",children:Object(s.jsx)(p,{})}),Object(s.jsx)(j.a,{path:"/groupProfile",children:Object(s.jsx)(be,{})}),Object(s.jsx)(j.a,{path:"/groupByOption",children:Object(s.jsx)(pe,{})}),Object(s.jsx)(j.a,{path:"/admin",children:Object(s.jsx)(fe,{})}),Object(s.jsx)(j.a,{path:"/payment",children:Object(s.jsx)(ye,{})}),Object(s.jsx)(j.a,{path:"/blockchain",children:Object(s.jsx)(we,{})})]})};var Ce=function(){var e=Object(a.useReducer)(he,null),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(s.jsx)(Se.Provider,{value:{state:n,dispatch:c},children:Object(s.jsxs)(d.a,{children:[Object(s.jsx)(b,{}),Object(s.jsx)(Ne,{})]})})},Ae=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,268)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};o.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(Ce,{})}),document.getElementById("root")),Ae()},57:function(e,t){}},[[265,1,2]]]);
//# sourceMappingURL=main.adafaab9.chunk.js.map